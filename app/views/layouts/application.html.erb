<!DOCTYPE html>
<html>
  <head>
    <title>Medication Manager</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
    <style>
      /* ‚úÖ ÂÖ®‰Ωì„Éô„Éº„Çπ */
      body {
        font-family: "Segoe UI", "Hiragino Sans", sans-serif;
        margin: 0;
        padding: 0;
        background: #f7fdfc; /* ÂåªÁôÇÁ≥ª„Å£„ÅΩ„ÅÑËñÑ„ÅÑ„Éñ„É´„Éº„Ç∞„É™„Éº„É≥ */
        color: #333;
      }

      /* ‚úÖ „Éò„ÉÉ„ÉÄ„Éº */
      .navbar {
        background: linear-gradient(90deg, #4db6ac, #0288d1); /* ÂåªÁôÇÁ≥ª„Éñ„É´„Éº„Ç∞„É™„Éº„É≥ */
        padding: 15px 0;
        box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      }

      .navbar .container {
        max-width: 1100px;
        margin: 0 auto;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      /* ‚úÖ „É≠„Ç¥ */
      .logo {
        margin: 0;
        font-size: 26px;
        font-weight: bold;
      }

      .logo-link {
        text-decoration: none;
        color: #ffffff; /* ÁôΩ„ÅßÊ∏ÖÊΩîÊÑü */
        transition: 0.3s;
      }

      .logo-link:hover {
        color: #c8e6c9; /* ËñÑ„ÅÑ„Ç∞„É™„Éº„É≥„Åß hover */
      }

      /* ‚úÖ „Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥ */
      .nav-links {
        list-style: none;
        margin: 0;
        padding: 0;
        display: flex;
        align-items: center;
        font-size: 14px;
      }

      .nav-links li {
        color: #e0f7fa;
      }

      .nav-links a {
        margin-left: 12px;
        text-decoration: none;
        color: #ffffff;
        font-weight: bold;
        padding: 6px 14px;
        border: 2px solid #ffffff;
        border-radius: 6px;
        transition: 0.3s;
      }

      .nav-links a:hover {
        background: #ffffff;
        color: #0288d1;
      }

      /* ‚úÖ „É¶„Éº„Ç∂„ÉºÂêçË°®Á§∫ */
      .user-name {
        margin-right: 12px;
        font-weight: bold;
        color: #e0f2f1;
      }

      /* ‚úÖ „Éï„É©„ÉÉ„Ç∑„É•„É°„ÉÉ„Çª„Éº„Ç∏ */
      .alert {
        padding: 12px 18px;
        border-radius: 6px;
        margin: 20px auto;
        max-width: 900px;
        text-align: center;
        font-weight: bold;
      }

      .notice {
        background: #e8f5e9;
        border: 1px solid #81c784;
        color: #2e7d32;
      }

      .alert-danger {
        background: #ffebee;
        border: 1px solid #ef9a9a;
        color: #c62828;
      }

      /* ‚úÖ „É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ */
      .container {
        max-width: 1100px;
        margin: 40px auto;
        padding: 0 20px;
      }
    </style>
  </head>

  <body>
    <header class="navbar">
      <div class="container">
        <h1 class="logo">
          <% if user_signed_in? %>
            <% if current_user.patient? %>
              <%= link_to "üíä Medication Manager", patient_home_path, class: "logo-link" %>
            <% elsif current_user.doctor? %>
              <%= link_to "üíä Medication Manager", doctor_home_path, class: "logo-link" %>
            <% elsif current_user.pharmacy? %>
              <%= link_to "üíä Medication Manager", pharmacy_home_path, class: "logo-link" %>
            <% end %>
          <% else %>
            <%= link_to "üíä Medication Manager", unauthenticated_root_path, class: "logo-link" %>
          <% end %>
        </h1>

        <ul class="nav-links">
          <% if user_signed_in? %>
            <li>
              <% if current_user.patient? %>
                <span class="user-name">
                  „É¶„Éº„Ç∂„ÉºÁï™Âè∑: <%= current_user.patient_number %> |
                  „ÅäÂêçÂâç: <%= current_user.name %> „Åï„Çì
                </span>
                <%= link_to "„É≠„Ç∞„Ç¢„Ç¶„Éà", destroy_patient_session_path,
                            data: { turbo_method: :delete, turbo_confirm: "„É≠„Ç∞„Ç¢„Ç¶„Éà„Åó„Åæ„Åô„ÅãÔºü" } %>
              <% elsif current_user.doctor? %>
                <span class="user-name">
                  <%= current_user.hospital_name %> Ôºö<%= current_user.name %>ÂÖàÁîü
                </span>
                <%= link_to "„É≠„Ç∞„Ç¢„Ç¶„Éà", destroy_doctor_session_path,
                            data: { turbo_method: :delete, turbo_confirm: "„É≠„Ç∞„Ç¢„Ç¶„Éà„Åó„Åæ„Åô„ÅãÔºü" } %>
              <% elsif current_user.pharmacy? %>
                <span class="user-name"><%= current_user.name %></span>
                <%= link_to "„É≠„Ç∞„Ç¢„Ç¶„Éà", destroy_pharmacy_session_path,
                            data: { turbo_method: :delete, turbo_confirm: "„É≠„Ç∞„Ç¢„Ç¶„Éà„Åó„Åæ„Åô„ÅãÔºü" } %>
              <% end %>
            </li>
          <% end %>
        </ul>
      </div>
    </header>

    <div class="container">
      <% if notice %>
        <p class="alert notice"><%= notice %></p>
      <% end %>
      <% if alert %>
        <p class="alert alert-danger"><%= alert %></p>
      <% end %>

      <%= yield %>
    </div>
  </body>
</html>














